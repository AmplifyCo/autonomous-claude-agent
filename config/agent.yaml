agent:
  name: "AutonomousCodeBuilder"
  version: "1.0.0"

  execution:
    max_iterations: 50
    timeout_seconds: 300
    retry_attempts: 3

  models:
    # Multi-tier cloud model configuration
    # Safe to commit to git - no credentials here
    default: "claude-opus-4-6"      # Architect - complex planning & orchestration
    subagent: "claude-sonnet-4-5"   # Workers - implementation tasks
    chat: "claude-sonnet-4-5"       # Chat - conversation (Sonnet for quality)
    intent: "claude-haiku-4-5"      # Intent parsing - lightweight NLP

  safety:
    max_file_size_mb: 10
    allow_sudo: true  # Enable limited sudo access
    allowed_sudo_commands:
      # Package management
      - sudo yum install
      - sudo yum update
      - sudo yum remove
      - sudo apt-get install
      - sudo apt-get update
      - sudo apt install
      - sudo apt update
      - sudo pip install
      # Service management
      - sudo systemctl restart claude-agent
      - sudo systemctl status
      # Firewall
      - sudo firewall-cmd
      # Logs
      - sudo journalctl
    allowed_commands:
      - npm
      - pip
      - git
      - python
      - pytest
      - node
      - bash
      - w3m
      - chromium
      - chromium-browser
    blocked_commands:
      - rm -rf /
      - sudo rm
      - sudo shutdown
      - sudo reboot
      - sudo poweroff
      - sudo halt
      - format
      - mkfs
      - dd if=/dev/zero
      - sudo dd

brain:
  vector_db:
    type: "chromadb"
    collection_name: "agent_memory"
    embedding_model: "all-MiniLM-L6-v2"

  memory:
    max_context_tokens: 180000
    auto_summarize: true
    retention_days: 90

tools:
  enabled:
    - bash
    - file
    - web
    - browser

monitoring:
  telegram:
    enabled: true
    send_progress_updates: true
    send_errors: true

  dashboard:
    enabled: true
    host: "0.0.0.0"
    port: 18789

local_model:
  # ============================================================================
  # LOCAL MODELS CONFIGURATION (CPU Inference)
  # ============================================================================
  # This file is committed to git - it contains model names, not credentials
  # Override endpoints in .env if using remote servers:
  #   LOCAL_MODEL_ENDPOINT=http://localhost:8000
  #   LOCAL_CODER_ENDPOINT=http://localhost:8001

  # General Purpose Model: SmolLM2-1.7B
  # Use case: Status checks, reports, monitoring, API fallback
  enabled: true  # Enable local model (set false to disable)
  name: "HuggingFaceTB/SmolLM2-1.7B-Instruct"
  # Alternative options:
  #   - HuggingFaceTB/SmolLM2-360M-Instruct (ultra-fast, 2GB RAM)
  #   - microsoft/Phi-3-mini-4k-instruct (alternative, 8GB RAM)
  endpoint: null  # null = direct inference, or set in .env for server
  use_for: "trivial,simple"
  max_tokens: 512
  temperature: 0.7
  device: "cpu"

  # Specialized Coding Model: DeepSeek-R1-Distill-Qwen-1.5B
  # Use case: Quick code changes, debugging, small fixes
  coder:
    enabled: true  # Enable local coder (set false to disable)
    name: "deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B"
    # Alternative options:
    #   - Qwen/Qwen2.5-Coder-1.5B-Instruct (Qwen coding variant)
    #   - HuggingFaceTB/SmolLM2-1.7B-Instruct (use SmolLM2 for simple code)
    endpoint: null  # null = direct inference, or set in .env for server
    use_for: "code_edit,debug,quick_fix"
    max_tokens: 1024
    temperature: 0.3  # Lower temperature for precise code

auto_update:
  enabled: true
  schedule: "daily"  # daily, weekly, or cron syntax
  security_only: true  # Only update packages with security vulnerabilities
  notify_telegram: true  # Send Telegram notifications about updates
  auto_restart: true  # Restart agent after applying updates

  packages:
    system: true  # Update system packages (yum/apt)
    python: true  # Update Python packages (pip)

  vulnerability_scanning:
    enabled: true
    tools:
      - pip-audit  # Primary scanner
      - safety  # Fallback scanner
